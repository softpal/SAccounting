@model StratusAccounting.Models.UserBankAccount


<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
    <h3>Communication Details</h3>
</div>

<div class="modal-body">
    <div class="scroller" data-always-visible="1" data-rail-visible1="1">
        <div class="row-fluid">
            <div class="span6 ">

                <div class="control-group">
                    <label for="firstName" class="control-label">Bank Name</label>
                    <div class="controls">
                        @Html.EditorFor(model => model.BankName)
                        @Html.HiddenFor(model=> model.BankAccountsId)
                    </div>
                </div>

                <div class="control-group">
                    <label for="firstName" class="control-label">Account #</label>
                    <div class="controls">
                        @Html.EditorFor(model => model.AccountNum)
                    </div>
                </div>
                <div class="control-group">
                    <label for="firstName" class="control-label">Account Type</label>
                    <div class="controls">
                        @Html.DropDownListFor(model => model.BankAccountTypeId, (SelectList)ViewBag.AccountType, "--Select--")@*, new { @class = "m-wrap span12 border-form-radius" }*@
                        @Html.ValidationMessageFor(model => model.BankAccountTypeId)
                    </div>
                </div>
                <div class="control-group">
                    <label for="firstName" class="control-label">Routing #</label>
                    <div class="controls">
                        @Html.EditorFor(model => model.RountingNum)
                    </div>
                </div>
                <div class="control-group">
                    <label for="firstName" class="control-label">Bank Address</label>
                    <div class="controls">
                        @Html.EditorFor(model => model.Address)
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
<div class="modal-footer">
    <input type="button" class="btn blue" onclick="SaveBankDetails();" value="Save" />
    <a class="btn" onclick="CloseAddPopup();">Cancel</a>
</div>

<script>
    function SaveBankDetails() {
        var strDetails = new Array();
        strDetails.push($("#BankAccountsId").val());
        strDetails.push($("#BankName").val());
        strDetails.push($("#AccountNum").val());
        strDetails.push($("#BankAccountTypeId").val());
        strDetails.push($("#RountingNum").val());
        strDetails.push($("#Address").val());
        $.ajax({
            type: "POST",
            contentType: "application/json",
            url: "/Vendors/SaveBankDetails",
            data: JSON.stringify({ "bankDetails": strDetails }),
            success: function (data) {
                if (data) {
                    CloseAddPopup();
                    @*var url = '@Url.Action("VendorDetails", "Vendors", new { id = "__id__" })';
                    window.location.href = url.replace('__id__', strDetails[0]);*@
                }
            },
            error: function (data) {
                //debugger;
            }
        });
    }

    function CloseAddPopup() {
        $(".close").click();
    }
</script>
